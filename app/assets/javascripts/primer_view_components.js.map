{"version":3,"file":"primer_view_components.js","sources":["../../../node_modules/@github/combobox-nav/dist/index.js","../../../node_modules/@github/auto-complete-element/dist/index.js","../../../node_modules/@github/clipboard-copy-element/dist/index.esm.js","../../components/primer/clipboard_copy_component.js","../../../node_modules/@github/tab-container-element/dist/index.js","../../../node_modules/@github/time-elements/dist/index.js","../../../node_modules/@github/image-crop-element/dist/index.js","../../../node_modules/@github/details-menu-element/dist/index.js","../../../node_modules/@primer/behaviors/dist/esm/anchored-position.js","../../components/primer/alpha/tool-tip-element.js"],"sourcesContent":["const ctrlBindings = !!navigator.userAgent.match(/Macintosh/);\nexport default class Combobox {\n    constructor(input, list) {\n        this.input = input;\n        this.list = list;\n        this.isComposing = false;\n        if (!list.id) {\n            list.id = `combobox-${Math.random()\n                .toString()\n                .slice(2, 6)}`;\n        }\n        this.keyboardEventHandler = event => keyboardBindings(event, this);\n        this.compositionEventHandler = event => trackComposition(event, this);\n        this.inputHandler = this.clearSelection.bind(this);\n        input.setAttribute('role', 'combobox');\n        input.setAttribute('aria-controls', list.id);\n        input.setAttribute('aria-expanded', 'false');\n        input.setAttribute('aria-autocomplete', 'list');\n        input.setAttribute('aria-haspopup', 'listbox');\n    }\n    destroy() {\n        this.clearSelection();\n        this.stop();\n        this.input.removeAttribute('role');\n        this.input.removeAttribute('aria-controls');\n        this.input.removeAttribute('aria-expanded');\n        this.input.removeAttribute('aria-autocomplete');\n        this.input.removeAttribute('aria-haspopup');\n    }\n    start() {\n        this.input.setAttribute('aria-expanded', 'true');\n        this.input.addEventListener('compositionstart', this.compositionEventHandler);\n        this.input.addEventListener('compositionend', this.compositionEventHandler);\n        this.input.addEventListener('input', this.inputHandler);\n        this.input.addEventListener('keydown', this.keyboardEventHandler);\n        this.list.addEventListener('click', commitWithElement);\n    }\n    stop() {\n        this.clearSelection();\n        this.input.setAttribute('aria-expanded', 'false');\n        this.input.removeEventListener('compositionstart', this.compositionEventHandler);\n        this.input.removeEventListener('compositionend', this.compositionEventHandler);\n        this.input.removeEventListener('input', this.inputHandler);\n        this.input.removeEventListener('keydown', this.keyboardEventHandler);\n        this.list.removeEventListener('click', commitWithElement);\n    }\n    navigate(indexDiff = 1) {\n        const focusEl = Array.from(this.list.querySelectorAll('[aria-selected=\"true\"]')).filter(visible)[0];\n        const els = Array.from(this.list.querySelectorAll('[role=\"option\"]')).filter(visible);\n        const focusIndex = els.indexOf(focusEl);\n        if ((focusIndex === els.length - 1 && indexDiff === 1) || (focusIndex === 0 && indexDiff === -1)) {\n            this.clearSelection();\n            this.input.focus();\n            return;\n        }\n        let indexOfItem = indexDiff === 1 ? 0 : els.length - 1;\n        if (focusEl && focusIndex >= 0) {\n            const newIndex = focusIndex + indexDiff;\n            if (newIndex >= 0 && newIndex < els.length)\n                indexOfItem = newIndex;\n        }\n        const target = els[indexOfItem];\n        if (!target)\n            return;\n        for (const el of els) {\n            if (target === el) {\n                this.input.setAttribute('aria-activedescendant', target.id);\n                target.setAttribute('aria-selected', 'true');\n                scrollTo(this.list, target);\n            }\n            else {\n                el.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n    clearSelection() {\n        this.input.removeAttribute('aria-activedescendant');\n        for (const el of this.list.querySelectorAll('[aria-selected=\"true\"]')) {\n            el.setAttribute('aria-selected', 'false');\n        }\n    }\n}\nfunction keyboardBindings(event, combobox) {\n    if (event.shiftKey || event.metaKey || event.altKey)\n        return;\n    if (!ctrlBindings && event.ctrlKey)\n        return;\n    if (combobox.isComposing)\n        return;\n    switch (event.key) {\n        case 'Enter':\n        case 'Tab':\n            if (commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Escape':\n            combobox.clearSelection();\n            break;\n        case 'ArrowDown':\n            combobox.navigate(1);\n            event.preventDefault();\n            break;\n        case 'ArrowUp':\n            combobox.navigate(-1);\n            event.preventDefault();\n            break;\n        case 'n':\n            if (ctrlBindings && event.ctrlKey) {\n                combobox.navigate(1);\n                event.preventDefault();\n            }\n            break;\n        case 'p':\n            if (ctrlBindings && event.ctrlKey) {\n                combobox.navigate(-1);\n                event.preventDefault();\n            }\n            break;\n        default:\n            if (event.ctrlKey)\n                break;\n            combobox.clearSelection();\n    }\n}\nfunction commitWithElement(event) {\n    if (!(event.target instanceof Element))\n        return;\n    const target = event.target.closest('[role=\"option\"]');\n    if (!target)\n        return;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return;\n    fireCommitEvent(target);\n}\nfunction commit(input, list) {\n    const target = list.querySelector('[aria-selected=\"true\"]');\n    if (!target)\n        return false;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return true;\n    target.click();\n    return true;\n}\nfunction fireCommitEvent(target) {\n    target.dispatchEvent(new CustomEvent('combobox-commit', { bubbles: true }));\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        !(el instanceof HTMLInputElement && el.type === 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction trackComposition(event, combobox) {\n    combobox.isComposing = event.type === 'compositionstart';\n    const list = document.getElementById(combobox.input.getAttribute('aria-controls') || '');\n    if (!list)\n        return;\n    combobox.clearSelection();\n}\nfunction scrollTo(container, target) {\n    if (!inViewport(container, target)) {\n        container.scrollTop = target.offsetTop;\n    }\n}\nfunction inViewport(container, element) {\n    const scrollTop = container.scrollTop;\n    const containerBottom = scrollTop + container.clientHeight;\n    const top = element.offsetTop;\n    const bottom = top + element.clientHeight;\n    return top >= scrollTop && bottom <= containerBottom;\n}\n","import Combobox from '@github/combobox-nav';\n\nfunction debounce(callback, wait = 0) {\n    let timeout;\n    return function (...Rest) {\n        clearTimeout(timeout);\n        timeout = window.setTimeout(() => {\n            clearTimeout(timeout);\n            callback(...Rest);\n        }, wait);\n    };\n}\n\nconst SCREEN_READER_DELAY = window.testScreenReaderDelay || 100;\nclass Autocomplete {\n    constructor(container, input, results, autoselectEnabled = false) {\n        var _a;\n        this.container = container;\n        this.input = input;\n        this.results = results;\n        this.combobox = new Combobox(input, results);\n        this.feedback = document.getElementById(`${this.results.id}-feedback`);\n        this.autoselectEnabled = autoselectEnabled;\n        this.clearButton = document.getElementById(`${this.input.id || this.input.name}-clear`);\n        this.clientOptions = results.querySelectorAll('[role=option]');\n        if (this.feedback) {\n            this.feedback.setAttribute('aria-live', 'polite');\n            this.feedback.setAttribute('aria-atomic', 'true');\n        }\n        if (this.clearButton && !this.clearButton.getAttribute('aria-label')) {\n            const labelElem = document.querySelector(`label[for=\"${this.input.name}\"]`);\n            this.clearButton.setAttribute('aria-label', `clear:`);\n            this.clearButton.setAttribute('aria-labelledby', `${this.clearButton.id} ${(labelElem === null || labelElem === void 0 ? void 0 : labelElem.id) || ''}`);\n        }\n        if (!this.input.getAttribute('aria-expanded')) {\n            this.input.setAttribute('aria-expanded', 'false');\n        }\n        this.results.hidden = true;\n        this.results.setAttribute('aria-label', 'results');\n        this.input.setAttribute('autocomplete', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.interactingWithList = false;\n        this.onInputChange = debounce(this.onInputChange.bind(this), 300);\n        this.onResultsMouseDown = this.onResultsMouseDown.bind(this);\n        this.onInputBlur = this.onInputBlur.bind(this);\n        this.onInputFocus = this.onInputFocus.bind(this);\n        this.onKeydown = this.onKeydown.bind(this);\n        this.onCommit = this.onCommit.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n        this.input.addEventListener('keydown', this.onKeydown);\n        this.input.addEventListener('focus', this.onInputFocus);\n        this.input.addEventListener('blur', this.onInputBlur);\n        this.input.addEventListener('input', this.onInputChange);\n        this.results.addEventListener('mousedown', this.onResultsMouseDown);\n        this.results.addEventListener('combobox-commit', this.onCommit);\n        (_a = this.clearButton) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this.handleClear);\n    }\n    destroy() {\n        this.input.removeEventListener('keydown', this.onKeydown);\n        this.input.removeEventListener('focus', this.onInputFocus);\n        this.input.removeEventListener('blur', this.onInputBlur);\n        this.input.removeEventListener('input', this.onInputChange);\n        this.results.removeEventListener('mousedown', this.onResultsMouseDown);\n        this.results.removeEventListener('combobox-commit', this.onCommit);\n    }\n    handleClear(event) {\n        event.preventDefault();\n        if (this.input.getAttribute('aria-expanded') === 'true') {\n            this.input.setAttribute('aria-expanded', 'false');\n            this.updateFeedbackForScreenReaders('Results hidden.');\n        }\n        this.input.value = '';\n        this.container.value = '';\n        this.input.focus();\n        this.input.dispatchEvent(new Event('change'));\n        this.container.open = false;\n    }\n    onKeydown(event) {\n        if (event.key === 'Enter' && this.container.open && this.autoselectEnabled) {\n            const firstOption = this.results.children[0];\n            if (firstOption) {\n                event.stopPropagation();\n                event.preventDefault();\n                this.onCommit({ target: firstOption });\n            }\n        }\n        if (event.key === 'Escape' && this.container.open) {\n            this.container.open = false;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowUp' && this.container.open) {\n            this.container.open = false;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowDown' && !this.container.open) {\n            if (!this.input.value.trim())\n                return;\n            this.container.open = true;\n            event.stopPropagation();\n            event.preventDefault();\n        }\n    }\n    onInputFocus() {\n        this.fetchResults();\n    }\n    onInputBlur() {\n        if (this.interactingWithList) {\n            this.interactingWithList = false;\n            return;\n        }\n        this.container.open = false;\n    }\n    onCommit({ target }) {\n        const selected = target;\n        if (!(selected instanceof HTMLElement))\n            return;\n        this.container.open = false;\n        if (selected instanceof HTMLAnchorElement)\n            return;\n        const value = selected.getAttribute('data-autocomplete-value') || selected.textContent;\n        this.updateFeedbackForScreenReaders(`${selected.textContent || ''} selected.`);\n        this.container.value = value;\n        if (!value) {\n            this.updateFeedbackForScreenReaders(`Results hidden.`);\n        }\n    }\n    onResultsMouseDown() {\n        this.interactingWithList = true;\n    }\n    onInputChange() {\n        if (this.feedback && this.feedback.textContent) {\n            this.feedback.textContent = '';\n        }\n        this.container.removeAttribute('value');\n        this.fetchResults();\n    }\n    identifyOptions() {\n        let id = 0;\n        for (const el of this.results.querySelectorAll('[role=\"option\"]:not([id])')) {\n            el.id = `${this.results.id}-option-${id++}`;\n        }\n    }\n    updateFeedbackForScreenReaders(inputString) {\n        setTimeout(() => {\n            if (this.feedback) {\n                this.feedback.textContent = inputString;\n            }\n        }, SCREEN_READER_DELAY);\n    }\n    fetchResults() {\n        const query = this.input.value.trim();\n        if (!query) {\n            this.container.open = false;\n            return;\n        }\n        const src = this.container.src;\n        if (!src)\n            return;\n        const url = new URL(src, window.location.href);\n        const params = new URLSearchParams(url.search.slice(1));\n        params.append('q', query);\n        url.search = params.toString();\n        this.container.dispatchEvent(new CustomEvent('loadstart'));\n        this.container\n            .fetchResult(this.input, url.toString())\n            .then(html => {\n            this.results.innerHTML = html;\n            this.identifyOptions();\n            const allNewOptions = this.results.querySelectorAll('[role=\"option\"]');\n            const hasResults = !!allNewOptions.length;\n            const numOptions = allNewOptions.length;\n            const [firstOption] = allNewOptions;\n            const firstOptionValue = firstOption === null || firstOption === void 0 ? void 0 : firstOption.textContent;\n            if (this.autoselectEnabled && firstOptionValue) {\n                this.updateFeedbackForScreenReaders(`${numOptions} results. ${firstOptionValue} is the top result: Press Enter to activate.`);\n            }\n            else {\n                this.updateFeedbackForScreenReaders(`${numOptions || 'No'} results.`);\n            }\n            this.container.open = hasResults;\n            this.container.dispatchEvent(new CustomEvent('load'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        })\n            .catch(() => {\n            this.container.dispatchEvent(new CustomEvent('error'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        });\n    }\n    open() {\n        if (!this.results.hidden)\n            return;\n        this.combobox.start();\n        this.results.hidden = false;\n    }\n    close() {\n        if (this.results.hidden)\n            return;\n        this.combobox.stop();\n        this.results.hidden = true;\n    }\n}\n\nclass AutocompleteEvent extends CustomEvent {\n    constructor(type, init) {\n        super(type, init);\n        this.relatedTarget = init.relatedTarget;\n    }\n}\n\nconst requests = new WeakMap();\nfunction fragment(el, url) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Accept', 'text/fragment+html');\n    return request(el, xhr);\n}\nfunction request(el, xhr) {\n    const pending = requests.get(el);\n    if (pending)\n        pending.abort();\n    requests.set(el, xhr);\n    const clear = () => requests.delete(el);\n    const result = send(xhr);\n    result.then(clear, clear);\n    return result;\n}\nfunction send(xhr) {\n    return new Promise((resolve, reject) => {\n        xhr.onload = function () {\n            if (xhr.status >= 200 && xhr.status < 300) {\n                resolve(xhr.responseText);\n            }\n            else {\n                reject(new Error(xhr.responseText));\n            }\n        };\n        xhr.onerror = reject;\n        xhr.send();\n    });\n}\n\nconst state = new WeakMap();\nclass AutocompleteElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.fetchResult = fragment;\n    }\n    connectedCallback() {\n        const listId = this.getAttribute('for');\n        if (!listId)\n            return;\n        const input = this.querySelector('input');\n        const results = document.getElementById(listId);\n        if (!(input instanceof HTMLInputElement) || !results)\n            return;\n        const autoselectEnabled = this.getAttribute('data-autoselect') === 'true';\n        state.set(this, new Autocomplete(this, input, results, autoselectEnabled));\n        results.setAttribute('role', 'listbox');\n    }\n    disconnectedCallback() {\n        const autocomplete = state.get(this);\n        if (autocomplete) {\n            autocomplete.destroy();\n            state.delete(this);\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(url) {\n        this.setAttribute('src', url);\n    }\n    get value() {\n        return this.getAttribute('value') || '';\n    }\n    set value(value) {\n        this.setAttribute('value', value);\n    }\n    get open() {\n        return this.hasAttribute('open');\n    }\n    set open(value) {\n        if (value) {\n            this.setAttribute('open', '');\n        }\n        else {\n            this.removeAttribute('open');\n        }\n    }\n    static get observedAttributes() {\n        return ['open', 'value'];\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue === newValue)\n            return;\n        const autocomplete = state.get(this);\n        if (!autocomplete)\n            return;\n        switch (name) {\n            case 'open':\n                newValue === null ? autocomplete.close() : autocomplete.open();\n                break;\n            case 'value':\n                if (newValue !== null) {\n                    autocomplete.input.value = newValue;\n                }\n                this.dispatchEvent(new AutocompleteEvent('auto-complete-change', {\n                    bubbles: true,\n                    relatedTarget: autocomplete.input\n                }));\n                break;\n        }\n    }\n}\nif (!window.customElements.get('auto-complete')) {\n    window.AutocompleteElement = AutocompleteElement;\n    window.customElements.define('auto-complete', AutocompleteElement);\n}\n\nexport { AutocompleteEvent, AutocompleteElement as default };\n","function createNode(text) {\n  const node = document.createElement('pre');\n  node.style.width = '1px';\n  node.style.height = '1px';\n  node.style.position = 'fixed';\n  node.style.top = '5px';\n  node.textContent = text;\n  return node;\n}\n\nfunction copyNode(node) {\n  if ('clipboard' in navigator) {\n    // eslint-disable-next-line flowtype/no-flow-fix-me-comments\n    // $FlowFixMe Clipboard is not defined in Flow yet.\n    return navigator.clipboard.writeText(node.textContent);\n  }\n\n  const selection = getSelection();\n\n  if (selection == null) {\n    return Promise.reject(new Error());\n  }\n\n  selection.removeAllRanges();\n  const range = document.createRange();\n  range.selectNodeContents(node);\n  selection.addRange(range);\n  document.execCommand('copy');\n  selection.removeAllRanges();\n  return Promise.resolve();\n}\nfunction copyText(text) {\n  if ('clipboard' in navigator) {\n    // eslint-disable-next-line flowtype/no-flow-fix-me-comments\n    // $FlowFixMe Clipboard is not defined in Flow yet.\n    return navigator.clipboard.writeText(text);\n  }\n\n  const body = document.body;\n\n  if (!body) {\n    return Promise.reject(new Error());\n  }\n\n  const node = createNode(text);\n  body.appendChild(node);\n  copyNode(node);\n  body.removeChild(node);\n  return Promise.resolve();\n}\n\nfunction copy(button) {\n  const id = button.getAttribute('for');\n  const text = button.getAttribute('value');\n\n  function trigger() {\n    button.dispatchEvent(new CustomEvent('clipboard-copy', {\n      bubbles: true\n    }));\n  }\n\n  if (text) {\n    copyText(text).then(trigger);\n  } else if (id) {\n    const root = 'getRootNode' in Element.prototype ? button.getRootNode() : button.ownerDocument;\n    if (!(root instanceof Document || 'ShadowRoot' in window && root instanceof ShadowRoot)) return;\n    const node = root.getElementById(id);\n    if (node) copyTarget(node).then(trigger);\n  }\n}\n\nfunction copyTarget(content) {\n  if (content instanceof HTMLInputElement || content instanceof HTMLTextAreaElement) {\n    return copyText(content.value);\n  } else if (content instanceof HTMLAnchorElement && content.hasAttribute('href')) {\n    return copyText(content.href);\n  } else {\n    return copyNode(content);\n  }\n}\n\nfunction clicked(event) {\n  const button = event.currentTarget;\n\n  if (button instanceof HTMLElement) {\n    copy(button);\n  }\n}\n\nfunction keydown(event) {\n  if (event.key === ' ' || event.key === 'Enter') {\n    const button = event.currentTarget;\n\n    if (button instanceof HTMLElement) {\n      event.preventDefault();\n      copy(button);\n    }\n  }\n}\n\nfunction focused(event) {\n  event.currentTarget.addEventListener('keydown', keydown);\n}\n\nfunction blurred(event) {\n  event.currentTarget.removeEventListener('keydown', keydown);\n}\n\nclass ClipboardCopyElement extends HTMLElement {\n  constructor() {\n    super();\n    this.addEventListener('click', clicked);\n    this.addEventListener('focus', focused);\n    this.addEventListener('blur', blurred);\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0');\n    }\n\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'button');\n    }\n  }\n\n  get value() {\n    return this.getAttribute('value') || '';\n  }\n\n  set value(text) {\n    this.setAttribute('value', text);\n  }\n\n}\n\nif (!window.customElements.get('clipboard-copy')) {\n  window.ClipboardCopyElement = ClipboardCopyElement;\n  window.customElements.define('clipboard-copy', ClipboardCopyElement);\n}\n\nexport default ClipboardCopyElement;\n","import '@github/clipboard-copy-element';\nconst CLIPBOARD_COPY_TIMER_DURATION = 2000;\nfunction showSVG(svg) {\n    svg.style.display = 'inline-block';\n}\nfunction hideSVG(svg) {\n    svg.style.display = 'none';\n}\n// Toggle a copy button.\nfunction showCopy(button) {\n    const [copyIcon, checkIcon] = button.querySelectorAll('.octicon');\n    if (!copyIcon || !checkIcon)\n        return;\n    showSVG(copyIcon);\n    hideSVG(checkIcon);\n}\n// Toggle a copy button.\nfunction showCheck(button) {\n    const [copyIcon, checkIcon] = button.querySelectorAll('.octicon');\n    if (!copyIcon || !checkIcon)\n        return;\n    hideSVG(copyIcon);\n    showSVG(checkIcon);\n}\nconst clipboardCopyElementTimers = new WeakMap();\ndocument.addEventListener('clipboard-copy', function ({ target }) {\n    if (!(target instanceof HTMLElement))\n        return;\n    if (!target.hasAttribute('data-view-component'))\n        return;\n    const currentTimeout = clipboardCopyElementTimers.get(target);\n    if (currentTimeout) {\n        clearTimeout(currentTimeout);\n        clipboardCopyElementTimers.delete(target);\n    }\n    else {\n        showCheck(target);\n    }\n    clipboardCopyElementTimers.set(target, setTimeout(() => {\n        showCopy(target);\n        clipboardCopyElementTimers.delete(target);\n    }, CLIPBOARD_COPY_TIMER_DURATION));\n});\n","function getTabs(el) {\n    return Array.from(el.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]')).filter(tab => tab instanceof HTMLElement && tab.closest(el.tagName) === el);\n}\nexport default class TabContainerElement extends HTMLElement {\n    constructor() {\n        super();\n        this.addEventListener('keydown', (event) => {\n            const target = event.target;\n            if (!(target instanceof HTMLElement))\n                return;\n            if (target.closest(this.tagName) !== this)\n                return;\n            if (target.getAttribute('role') !== 'tab' && !target.closest('[role=\"tablist\"]'))\n                return;\n            const tabs = getTabs(this);\n            const currentIndex = tabs.indexOf(tabs.find(tab => tab.matches('[aria-selected=\"true\"]')));\n            if (event.code === 'ArrowRight') {\n                let index = currentIndex + 1;\n                if (index >= tabs.length)\n                    index = 0;\n                selectTab(this, index);\n            }\n            else if (event.code === 'ArrowLeft') {\n                let index = currentIndex - 1;\n                if (index < 0)\n                    index = tabs.length - 1;\n                selectTab(this, index);\n            }\n            else if (event.code === 'Home') {\n                selectTab(this, 0);\n                event.preventDefault();\n            }\n            else if (event.code === 'End') {\n                selectTab(this, tabs.length - 1);\n                event.preventDefault();\n            }\n        });\n        this.addEventListener('click', (event) => {\n            const tabs = getTabs(this);\n            if (!(event.target instanceof Element))\n                return;\n            if (event.target.closest(this.tagName) !== this)\n                return;\n            const tab = event.target.closest('[role=\"tab\"]');\n            if (!(tab instanceof HTMLElement) || !tab.closest('[role=\"tablist\"]'))\n                return;\n            const index = tabs.indexOf(tab);\n            selectTab(this, index);\n        });\n    }\n    connectedCallback() {\n        for (const tab of getTabs(this)) {\n            if (!tab.hasAttribute('aria-selected')) {\n                tab.setAttribute('aria-selected', 'false');\n            }\n            if (!tab.hasAttribute('tabindex')) {\n                if (tab.getAttribute('aria-selected') === 'true') {\n                    tab.setAttribute('tabindex', '0');\n                }\n                else {\n                    tab.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n    }\n}\nfunction selectTab(tabContainer, index) {\n    const tabs = getTabs(tabContainer);\n    const panels = Array.from(tabContainer.querySelectorAll('[role=\"tabpanel\"]')).filter(panel => panel.closest(tabContainer.tagName) === tabContainer);\n    const selectedTab = tabs[index];\n    const selectedPanel = panels[index];\n    const cancelled = !tabContainer.dispatchEvent(new CustomEvent('tab-container-change', {\n        bubbles: true,\n        cancelable: true,\n        detail: { relatedTarget: selectedPanel }\n    }));\n    if (cancelled)\n        return;\n    for (const tab of tabs) {\n        tab.setAttribute('aria-selected', 'false');\n        tab.setAttribute('tabindex', '-1');\n    }\n    for (const panel of panels) {\n        panel.hidden = true;\n        if (!panel.hasAttribute('tabindex') && !panel.hasAttribute('data-tab-container-no-tabstop')) {\n            panel.setAttribute('tabindex', '0');\n        }\n    }\n    selectedTab.setAttribute('aria-selected', 'true');\n    selectedTab.setAttribute('tabindex', '0');\n    selectedTab.focus();\n    selectedPanel.hidden = false;\n    tabContainer.dispatchEvent(new CustomEvent('tab-container-changed', {\n        bubbles: true,\n        detail: { relatedTarget: selectedPanel }\n    }));\n}\nif (!window.customElements.get('tab-container')) {\n    window.TabContainerElement = TabContainerElement;\n    window.customElements.define('tab-container', TabContainerElement);\n}\n//# sourceMappingURL=index.js.map","const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\nfunction pad(num) {\n    return `0${num}`.slice(-2);\n}\nfunction strftime(time, formatString) {\n    const day = time.getDay();\n    const date = time.getDate();\n    const month = time.getMonth();\n    const year = time.getFullYear();\n    const hour = time.getHours();\n    const minute = time.getMinutes();\n    const second = time.getSeconds();\n    return formatString.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g, function (_arg) {\n        let match;\n        const modifier = _arg[1];\n        switch (modifier) {\n            case '%':\n                return '%';\n            case 'a':\n                return weekdays[day].slice(0, 3);\n            case 'A':\n                return weekdays[day];\n            case 'b':\n                return months[month].slice(0, 3);\n            case 'B':\n                return months[month];\n            case 'c':\n                return time.toString();\n            case 'd':\n                return pad(date);\n            case 'e':\n                return String(date);\n            case 'H':\n                return pad(hour);\n            case 'I':\n                return pad(strftime(time, '%l'));\n            case 'l':\n                if (hour === 0 || hour === 12) {\n                    return String(12);\n                }\n                else {\n                    return String((hour + 12) % 12);\n                }\n            case 'm':\n                return pad(month + 1);\n            case 'M':\n                return pad(minute);\n            case 'p':\n                if (hour > 11) {\n                    return 'PM';\n                }\n                else {\n                    return 'AM';\n                }\n            case 'P':\n                if (hour > 11) {\n                    return 'pm';\n                }\n                else {\n                    return 'am';\n                }\n            case 'S':\n                return pad(second);\n            case 'w':\n                return String(day);\n            case 'y':\n                return pad(year % 100);\n            case 'Y':\n                return String(year);\n            case 'Z':\n                match = time.toString().match(/\\((\\w+)\\)$/);\n                return match ? match[1] : '';\n            case 'z':\n                match = time.toString().match(/\\w([+-]\\d\\d\\d\\d) /);\n                return match ? match[1] : '';\n        }\n        return '';\n    });\n}\nfunction makeFormatter(options) {\n    let format;\n    return function () {\n        if (format)\n            return format;\n        if ('Intl' in window) {\n            try {\n                format = new Intl.DateTimeFormat(undefined, options);\n                return format;\n            }\n            catch (e) {\n                if (!(e instanceof RangeError)) {\n                    throw e;\n                }\n            }\n        }\n    };\n}\nlet dayFirst = null;\nconst dayFirstFormatter = makeFormatter({ day: 'numeric', month: 'short' });\nfunction isDayFirst() {\n    if (dayFirst !== null) {\n        return dayFirst;\n    }\n    const formatter = dayFirstFormatter();\n    if (formatter) {\n        const output = formatter.format(new Date(0));\n        dayFirst = !!output.match(/^\\d/);\n        return dayFirst;\n    }\n    else {\n        return false;\n    }\n}\nlet yearSeparator = null;\nconst yearFormatter = makeFormatter({ day: 'numeric', month: 'short', year: 'numeric' });\nfunction isYearSeparator() {\n    if (yearSeparator !== null) {\n        return yearSeparator;\n    }\n    const formatter = yearFormatter();\n    if (formatter) {\n        const output = formatter.format(new Date(0));\n        yearSeparator = !!output.match(/\\d,/);\n        return yearSeparator;\n    }\n    else {\n        return true;\n    }\n}\nfunction isThisYear(date) {\n    const now = new Date();\n    return now.getUTCFullYear() === date.getUTCFullYear();\n}\nfunction makeRelativeFormat(locale, options) {\n    if ('Intl' in window && 'RelativeTimeFormat' in window.Intl) {\n        try {\n            return new Intl.RelativeTimeFormat(locale, options);\n        }\n        catch (e) {\n            if (!(e instanceof RangeError)) {\n                throw e;\n            }\n        }\n    }\n}\nfunction localeFromElement(el) {\n    const container = el.closest('[lang]');\n    if (container instanceof HTMLElement && container.lang) {\n        return container.lang;\n    }\n    return 'default';\n}\n\nconst datetimes = new WeakMap();\nclass ExtendedTimeElement extends HTMLElement {\n    static get observedAttributes() {\n        return [\n            'datetime',\n            'day',\n            'format',\n            'lang',\n            'hour',\n            'minute',\n            'month',\n            'second',\n            'title',\n            'weekday',\n            'year',\n            'time-zone-name'\n        ];\n    }\n    connectedCallback() {\n        const title = this.getFormattedTitle();\n        if (title && !this.hasAttribute('title')) {\n            this.setAttribute('title', title);\n        }\n        const text = this.getFormattedDate();\n        if (text) {\n            this.textContent = text;\n        }\n    }\n    attributeChangedCallback(attrName, oldValue, newValue) {\n        const oldTitle = this.getFormattedTitle();\n        if (attrName === 'datetime') {\n            const millis = Date.parse(newValue);\n            if (isNaN(millis)) {\n                datetimes.delete(this);\n            }\n            else {\n                datetimes.set(this, new Date(millis));\n            }\n        }\n        const title = this.getFormattedTitle();\n        const currentTitle = this.getAttribute('title');\n        if (attrName !== 'title' && title && (!currentTitle || currentTitle === oldTitle)) {\n            this.setAttribute('title', title);\n        }\n        const text = this.getFormattedDate();\n        if (text) {\n            this.textContent = text;\n        }\n    }\n    get date() {\n        return datetimes.get(this);\n    }\n    getFormattedTitle() {\n        const date = this.date;\n        if (!date)\n            return;\n        const formatter = titleFormatter();\n        if (formatter) {\n            return formatter.format(date);\n        }\n        else {\n            try {\n                return date.toLocaleString();\n            }\n            catch (e) {\n                if (e instanceof RangeError) {\n                    return date.toString();\n                }\n                else {\n                    throw e;\n                }\n            }\n        }\n    }\n    getFormattedDate() {\n        return;\n    }\n}\nconst titleFormatter = makeFormatter({\n    day: 'numeric',\n    month: 'short',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n    timeZoneName: 'short'\n});\n\nconst formatters = new WeakMap();\nclass LocalTimeElement extends ExtendedTimeElement {\n    attributeChangedCallback(attrName, oldValue, newValue) {\n        if (attrName === 'hour' || attrName === 'minute' || attrName === 'second' || attrName === 'time-zone-name') {\n            formatters.delete(this);\n        }\n        super.attributeChangedCallback(attrName, oldValue, newValue);\n    }\n    getFormattedDate() {\n        const d = this.date;\n        if (!d)\n            return;\n        const date = formatDate(this, d) || '';\n        const time = formatTime(this, d) || '';\n        return `${date} ${time}`.trim();\n    }\n}\nfunction formatDate(el, date) {\n    const props = {\n        weekday: {\n            short: '%a',\n            long: '%A'\n        },\n        day: {\n            numeric: '%e',\n            '2-digit': '%d'\n        },\n        month: {\n            short: '%b',\n            long: '%B'\n        },\n        year: {\n            numeric: '%Y',\n            '2-digit': '%y'\n        }\n    };\n    let format = isDayFirst() ? 'weekday day month year' : 'weekday month day, year';\n    for (const prop in props) {\n        const value = props[prop][el.getAttribute(prop) || ''];\n        format = format.replace(prop, value || '');\n    }\n    format = format.replace(/(\\s,)|(,\\s$)/, '');\n    return strftime(date, format).replace(/\\s+/, ' ').trim();\n}\nfunction formatTime(el, date) {\n    const options = {};\n    const hour = el.getAttribute('hour');\n    if (hour === 'numeric' || hour === '2-digit')\n        options.hour = hour;\n    const minute = el.getAttribute('minute');\n    if (minute === 'numeric' || minute === '2-digit')\n        options.minute = minute;\n    const second = el.getAttribute('second');\n    if (second === 'numeric' || second === '2-digit')\n        options.second = second;\n    const tz = el.getAttribute('time-zone-name');\n    if (tz === 'short' || tz === 'long')\n        options.timeZoneName = tz;\n    if (Object.keys(options).length === 0) {\n        return;\n    }\n    let factory = formatters.get(el);\n    if (!factory) {\n        factory = makeFormatter(options);\n        formatters.set(el, factory);\n    }\n    const formatter = factory();\n    if (formatter) {\n        return formatter.format(date);\n    }\n    else {\n        const timef = options.second ? '%H:%M:%S' : '%H:%M';\n        return strftime(date, timef);\n    }\n}\nif (!window.customElements.get('local-time')) {\n    window.LocalTimeElement = LocalTimeElement;\n    window.customElements.define('local-time', LocalTimeElement);\n}\n\nclass RelativeTime {\n    constructor(date, locale) {\n        this.date = date;\n        this.locale = locale;\n    }\n    toString() {\n        const ago = this.timeElapsed();\n        if (ago) {\n            return ago;\n        }\n        else {\n            const ahead = this.timeAhead();\n            if (ahead) {\n                return ahead;\n            }\n            else {\n                return `on ${this.formatDate()}`;\n            }\n        }\n    }\n    timeElapsed() {\n        const ms = new Date().getTime() - this.date.getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        if (ms >= 0 && day < 30) {\n            return this.timeAgoFromMs(ms);\n        }\n        else {\n            return null;\n        }\n    }\n    timeAhead() {\n        const ms = this.date.getTime() - new Date().getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        if (ms >= 0 && day < 30) {\n            return this.timeUntil();\n        }\n        else {\n            return null;\n        }\n    }\n    timeAgo() {\n        const ms = new Date().getTime() - this.date.getTime();\n        return this.timeAgoFromMs(ms);\n    }\n    timeAgoFromMs(ms) {\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (ms < 0) {\n            return formatRelativeTime(this.locale, 0, 'second');\n        }\n        else if (sec < 10) {\n            return formatRelativeTime(this.locale, 0, 'second');\n        }\n        else if (sec < 45) {\n            return formatRelativeTime(this.locale, -sec, 'second');\n        }\n        else if (sec < 90) {\n            return formatRelativeTime(this.locale, -min, 'minute');\n        }\n        else if (min < 45) {\n            return formatRelativeTime(this.locale, -min, 'minute');\n        }\n        else if (min < 90) {\n            return formatRelativeTime(this.locale, -hr, 'hour');\n        }\n        else if (hr < 24) {\n            return formatRelativeTime(this.locale, -hr, 'hour');\n        }\n        else if (hr < 36) {\n            return formatRelativeTime(this.locale, -day, 'day');\n        }\n        else if (day < 30) {\n            return formatRelativeTime(this.locale, -day, 'day');\n        }\n        else if (month < 18) {\n            return formatRelativeTime(this.locale, -month, 'month');\n        }\n        else {\n            return formatRelativeTime(this.locale, -year, 'year');\n        }\n    }\n    microTimeAgo() {\n        const ms = new Date().getTime() - this.date.getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (min < 1) {\n            return '1m';\n        }\n        else if (min < 60) {\n            return `${min}m`;\n        }\n        else if (hr < 24) {\n            return `${hr}h`;\n        }\n        else if (day < 365) {\n            return `${day}d`;\n        }\n        else {\n            return `${year}y`;\n        }\n    }\n    timeUntil() {\n        const ms = this.date.getTime() - new Date().getTime();\n        return this.timeUntilFromMs(ms);\n    }\n    timeUntilFromMs(ms) {\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (month >= 18) {\n            return formatRelativeTime(this.locale, year, 'year');\n        }\n        else if (month >= 12) {\n            return formatRelativeTime(this.locale, year, 'year');\n        }\n        else if (day >= 45) {\n            return formatRelativeTime(this.locale, month, 'month');\n        }\n        else if (day >= 30) {\n            return formatRelativeTime(this.locale, month, 'month');\n        }\n        else if (hr >= 36) {\n            return formatRelativeTime(this.locale, day, 'day');\n        }\n        else if (hr >= 24) {\n            return formatRelativeTime(this.locale, day, 'day');\n        }\n        else if (min >= 90) {\n            return formatRelativeTime(this.locale, hr, 'hour');\n        }\n        else if (min >= 45) {\n            return formatRelativeTime(this.locale, hr, 'hour');\n        }\n        else if (sec >= 90) {\n            return formatRelativeTime(this.locale, min, 'minute');\n        }\n        else if (sec >= 45) {\n            return formatRelativeTime(this.locale, min, 'minute');\n        }\n        else if (sec >= 10) {\n            return formatRelativeTime(this.locale, sec, 'second');\n        }\n        else {\n            return formatRelativeTime(this.locale, 0, 'second');\n        }\n    }\n    microTimeUntil() {\n        const ms = this.date.getTime() - new Date().getTime();\n        const sec = Math.round(ms / 1000);\n        const min = Math.round(sec / 60);\n        const hr = Math.round(min / 60);\n        const day = Math.round(hr / 24);\n        const month = Math.round(day / 30);\n        const year = Math.round(month / 12);\n        if (day >= 365) {\n            return `${year}y`;\n        }\n        else if (hr >= 24) {\n            return `${day}d`;\n        }\n        else if (min >= 60) {\n            return `${hr}h`;\n        }\n        else if (min > 1) {\n            return `${min}m`;\n        }\n        else {\n            return '1m';\n        }\n    }\n    formatDate() {\n        let format = isDayFirst() ? '%e %b' : '%b %e';\n        if (!isThisYear(this.date)) {\n            format += isYearSeparator() ? ', %Y' : ' %Y';\n        }\n        return strftime(this.date, format);\n    }\n    formatTime() {\n        const formatter = timeFormatter();\n        if (formatter) {\n            return formatter.format(this.date);\n        }\n        else {\n            return strftime(this.date, '%l:%M%P');\n        }\n    }\n}\nfunction formatRelativeTime(locale, value, unit) {\n    const formatter = makeRelativeFormat(locale, { numeric: 'auto' });\n    if (formatter) {\n        return formatter.format(value, unit);\n    }\n    else {\n        return formatEnRelativeTime(value, unit);\n    }\n}\nfunction formatEnRelativeTime(value, unit) {\n    if (value === 0) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n                return `this ${unit}`;\n            case 'day':\n                return 'today';\n            case 'hour':\n            case 'minute':\n                return `in 0 ${unit}s`;\n            case 'second':\n                return 'now';\n        }\n    }\n    else if (value === 1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n                return `next ${unit}`;\n            case 'day':\n                return 'tomorrow';\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `in 1 ${unit}`;\n        }\n    }\n    else if (value === -1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n                return `last ${unit}`;\n            case 'day':\n                return 'yesterday';\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `1 ${unit} ago`;\n        }\n    }\n    else if (value > 1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n            case 'day':\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `in ${value} ${unit}s`;\n        }\n    }\n    else if (value < -1) {\n        switch (unit) {\n            case 'year':\n            case 'quarter':\n            case 'month':\n            case 'week':\n            case 'day':\n            case 'hour':\n            case 'minute':\n            case 'second':\n                return `${-value} ${unit}s ago`;\n        }\n    }\n    throw new RangeError(`Invalid unit argument for format() '${unit}'`);\n}\nconst timeFormatter = makeFormatter({ hour: 'numeric', minute: '2-digit' });\n\nclass RelativeTimeElement extends ExtendedTimeElement {\n    getFormattedDate() {\n        const date = this.date;\n        if (!date)\n            return;\n        return new RelativeTime(date, localeFromElement(this)).toString();\n    }\n    connectedCallback() {\n        nowElements.push(this);\n        if (!updateNowElementsId) {\n            updateNowElements();\n            updateNowElementsId = window.setInterval(updateNowElements, 60 * 1000);\n        }\n        super.connectedCallback();\n    }\n    disconnectedCallback() {\n        const ix = nowElements.indexOf(this);\n        if (ix !== -1) {\n            nowElements.splice(ix, 1);\n        }\n        if (!nowElements.length) {\n            if (updateNowElementsId) {\n                clearInterval(updateNowElementsId);\n                updateNowElementsId = null;\n            }\n        }\n    }\n}\nconst nowElements = [];\nlet updateNowElementsId;\nfunction updateNowElements() {\n    let time, i, len;\n    for (i = 0, len = nowElements.length; i < len; i++) {\n        time = nowElements[i];\n        time.textContent = time.getFormattedDate() || '';\n    }\n}\nif (!window.customElements.get('relative-time')) {\n    window.RelativeTimeElement = RelativeTimeElement;\n    window.customElements.define('relative-time', RelativeTimeElement);\n}\n\nclass TimeAgoElement extends RelativeTimeElement {\n    getFormattedDate() {\n        const format = this.getAttribute('format');\n        const date = this.date;\n        if (!date)\n            return;\n        if (format === 'micro') {\n            return new RelativeTime(date, localeFromElement(this)).microTimeAgo();\n        }\n        else {\n            return new RelativeTime(date, localeFromElement(this)).timeAgo();\n        }\n    }\n}\nif (!window.customElements.get('time-ago')) {\n    window.TimeAgoElement = TimeAgoElement;\n    window.customElements.define('time-ago', TimeAgoElement);\n}\n\nclass TimeUntilElement extends RelativeTimeElement {\n    getFormattedDate() {\n        const format = this.getAttribute('format');\n        const date = this.date;\n        if (!date)\n            return;\n        if (format === 'micro') {\n            return new RelativeTime(date, localeFromElement(this)).microTimeUntil();\n        }\n        else {\n            return new RelativeTime(date, localeFromElement(this)).timeUntil();\n        }\n    }\n}\nif (!window.customElements.get('time-until')) {\n    window.TimeUntilElement = TimeUntilElement;\n    window.customElements.define('time-until', TimeUntilElement);\n}\n\nexport { LocalTimeElement, RelativeTimeElement, TimeAgoElement, TimeUntilElement };\n","const startPositions = new WeakMap();\nconst dragStartPositions = new WeakMap();\nconst constructedElements = new WeakMap();\nfunction moveCropArea(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box, image } = constructedElements.get(el) || {};\n    if (!box || !image)\n        return;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'ArrowUp') {\n            deltaY = -1;\n        }\n        else if (event.key === 'ArrowDown') {\n            deltaY = 1;\n        }\n        else if (event.key === 'ArrowLeft') {\n            deltaX = -1;\n        }\n        else if (event.key === 'ArrowRight') {\n            deltaX = 1;\n        }\n    }\n    else if (dragStartPositions.has(el) && event instanceof MouseEvent) {\n        const pos = dragStartPositions.get(el);\n        deltaX = event.pageX - pos.dragStartX;\n        deltaY = event.pageY - pos.dragStartY;\n    }\n    else if (dragStartPositions.has(el) && event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        const { dragStartX, dragStartY } = dragStartPositions.get(el);\n        deltaX = pageX - dragStartX;\n        deltaY = pageY - dragStartY;\n    }\n    if (deltaX !== 0 || deltaY !== 0) {\n        const x = Math.min(Math.max(0, box.offsetLeft + deltaX), image.width - box.offsetWidth);\n        const y = Math.min(Math.max(0, box.offsetTop + deltaY), image.height - box.offsetHeight);\n        box.style.left = `${x}px`;\n        box.style.top = `${y}px`;\n        fireChangeEvent(el, { x, y, width: box.offsetWidth, height: box.offsetHeight });\n    }\n    if (event instanceof MouseEvent) {\n        dragStartPositions.set(el, {\n            dragStartX: event.pageX,\n            dragStartY: event.pageY\n        });\n    }\n    else if (event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        dragStartPositions.set(el, {\n            dragStartX: pageX,\n            dragStartY: pageY\n        });\n    }\n}\nfunction updateCropArea(event) {\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    const el = getShadowHost(target);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const rect = el.getBoundingClientRect();\n    let deltaX, deltaY, delta;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'Escape')\n            return setInitialPosition(el);\n        if (event.key === '-')\n            delta = -10;\n        if (event.key === '=')\n            delta = +10;\n        if (!delta)\n            return;\n        deltaX = box.offsetWidth + delta;\n        deltaY = box.offsetHeight + delta;\n        startPositions.set(el, { startX: box.offsetLeft, startY: box.offsetTop });\n    }\n    else if (event instanceof MouseEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    else if (event instanceof TouchEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.changedTouches[0].pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.changedTouches[0].pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    if (deltaX && deltaY)\n        updateDimensions(el, deltaX, deltaY, !(event instanceof KeyboardEvent));\n}\nfunction getShadowHost(el) {\n    const rootNode = el.getRootNode();\n    if (!(rootNode instanceof ShadowRoot))\n        return el;\n    return rootNode.host;\n}\nfunction startUpdate(event) {\n    const currentTarget = event.currentTarget;\n    if (!(currentTarget instanceof HTMLElement))\n        return;\n    const el = getShadowHost(currentTarget);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    if (target.hasAttribute('data-direction')) {\n        const direction = target.getAttribute('data-direction') || '';\n        el.addEventListener('mousemove', updateCropArea);\n        el.addEventListener('touchmove', updateCropArea, { passive: true });\n        if (['nw', 'se'].indexOf(direction) >= 0)\n            el.classList.add('nwse');\n        if (['ne', 'sw'].indexOf(direction) >= 0)\n            el.classList.add('nesw');\n        startPositions.set(el, {\n            startX: box.offsetLeft + (['se', 'ne'].indexOf(direction) >= 0 ? 0 : box.offsetWidth),\n            startY: box.offsetTop + (['se', 'sw'].indexOf(direction) >= 0 ? 0 : box.offsetHeight)\n        });\n        updateCropArea(event);\n    }\n    else {\n        el.addEventListener('mousemove', moveCropArea);\n        el.addEventListener('touchmove', moveCropArea, { passive: true });\n    }\n}\nfunction updateDimensions(target, deltaX, deltaY, reposition = true) {\n    let newSide = Math.max(Math.abs(deltaX), Math.abs(deltaY), 10);\n    const pos = startPositions.get(target);\n    if (!pos)\n        return;\n    const { box, image } = constructedElements.get(target) || {};\n    if (!box || !image)\n        return;\n    newSide = Math.min(newSide, deltaY > 0 ? image.height - pos.startY : pos.startY, deltaX > 0 ? image.width - pos.startX : pos.startX);\n    const x = reposition ? Math.round(Math.max(0, deltaX > 0 ? pos.startX : pos.startX - newSide)) : box.offsetLeft;\n    const y = reposition ? Math.round(Math.max(0, deltaY > 0 ? pos.startY : pos.startY - newSide)) : box.offsetTop;\n    box.style.left = `${x}px`;\n    box.style.top = `${y}px`;\n    box.style.width = `${newSide}px`;\n    box.style.height = `${newSide}px`;\n    fireChangeEvent(target, { x, y, width: newSide, height: newSide });\n}\nfunction setInitialPosition(el) {\n    const { image } = constructedElements.get(el) || {};\n    if (!image)\n        return;\n    const side = Math.round(image.clientWidth > image.clientHeight ? image.clientHeight : image.clientWidth);\n    startPositions.set(el, {\n        startX: (image.clientWidth - side) / 2,\n        startY: (image.clientHeight - side) / 2\n    });\n    updateDimensions(el, side, side);\n}\nfunction stopUpdate(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    dragStartPositions.delete(el);\n    el.classList.remove('nwse', 'nesw');\n    el.removeEventListener('mousemove', updateCropArea);\n    el.removeEventListener('mousemove', moveCropArea);\n    el.removeEventListener('touchmove', updateCropArea);\n    el.removeEventListener('touchmove', moveCropArea);\n}\nfunction fireChangeEvent(target, result) {\n    const { image } = constructedElements.get(target) || {};\n    if (!image)\n        return;\n    const ratio = image.naturalWidth / image.width;\n    for (const key in result) {\n        const value = Math.round(result[key] * ratio);\n        result[key] = value;\n        const slottedInput = target.querySelector(`[data-image-crop-input='${key}']`);\n        if (slottedInput instanceof HTMLInputElement)\n            slottedInput.value = value.toString();\n    }\n    target.dispatchEvent(new CustomEvent('image-crop-change', { bubbles: true, detail: result }));\n}\nclass ImageCropElement extends HTMLElement {\n    connectedCallback() {\n        if (constructedElements.has(this))\n            return;\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.innerHTML = `\n<style>\n  :host { touch-action: none; display: block; }\n  :host(.nesw) { cursor: nesw-resize; }\n  :host(.nwse) { cursor: nwse-resize; }\n  :host(.nesw) .crop-box, :host(.nwse) .crop-box { cursor: inherit; }\n  :host([loaded]) .crop-image { display: block; }\n  :host([loaded]) ::slotted([data-loading-slot]), .crop-image { display: none; }\n\n  .crop-wrapper {\n    position: relative;\n    font-size: 0;\n  }\n  .crop-container {\n    user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    position: absolute;\n    overflow: hidden;\n    z-index: 1;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :host([rounded]) .crop-box {\n    border-radius: 50%;\n    box-shadow: 0 0 0 4000px rgba(0, 0, 0, 0.3);\n  }\n  .crop-box {\n    position: absolute;\n    border: 1px dashed #fff;\n    box-sizing: border-box;\n    cursor: move;\n  }\n\n  :host([rounded]) .crop-outline {\n    outline: none;\n  }\n  .crop-outline {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    outline: 4000px solid rgba(0, 0, 0, .3);\n  }\n\n  .handle { position: absolute; }\n  :host([rounded]) .handle::before { border-radius: 50%; }\n  .handle:before {\n    position: absolute;\n    display: block;\n    padding: 4px;\n    transform: translate(-50%, -50%);\n    content: ' ';\n    background: #fff;\n    border: 1px solid #767676;\n  }\n  .ne { top: 0; right: 0; cursor: nesw-resize; }\n  .nw { top: 0; left: 0; cursor: nwse-resize; }\n  .se { bottom: 0; right: 0; cursor: nwse-resize; }\n  .sw { bottom: 0; left: 0; cursor: nesw-resize; }\n</style>\n<slot></slot>\n<div class=\"crop-wrapper\">\n  <img width=\"100%\" class=\"crop-image\" alt=\"\">\n  <div class=\"crop-container\">\n    <div data-crop-box class=\"crop-box\">\n      <div class=\"crop-outline\"></div>\n      <div data-direction=\"nw\" class=\"handle nw\"></div>\n      <div data-direction=\"ne\" class=\"handle ne\"></div>\n      <div data-direction=\"sw\" class=\"handle sw\"></div>\n      <div data-direction=\"se\" class=\"handle se\"></div>\n    </div>\n  </div>\n</div>\n`;\n        const box = shadowRoot.querySelector('[data-crop-box]');\n        if (!(box instanceof HTMLElement))\n            return;\n        const image = shadowRoot.querySelector('img');\n        if (!(image instanceof HTMLImageElement))\n            return;\n        constructedElements.set(this, { box, image });\n        image.addEventListener('load', () => {\n            this.loaded = true;\n            setInitialPosition(this);\n        });\n        this.addEventListener('mouseleave', stopUpdate);\n        this.addEventListener('touchend', stopUpdate);\n        this.addEventListener('mouseup', stopUpdate);\n        box.addEventListener('mousedown', startUpdate);\n        box.addEventListener('touchstart', startUpdate, { passive: true });\n        this.addEventListener('keydown', moveCropArea);\n        this.addEventListener('keydown', updateCropArea);\n        if (this.src)\n            image.src = this.src;\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(val) {\n        if (val) {\n            this.setAttribute('src', val);\n        }\n        else {\n            this.removeAttribute('src');\n        }\n    }\n    get loaded() {\n        return this.hasAttribute('loaded');\n    }\n    set loaded(val) {\n        if (val) {\n            this.setAttribute('loaded', '');\n        }\n        else {\n            this.removeAttribute('loaded');\n        }\n    }\n    attributeChangedCallback(attribute, oldValue, newValue) {\n        const { image } = constructedElements.get(this) || {};\n        if (attribute === 'src') {\n            this.loaded = false;\n            if (image)\n                image.src = newValue;\n        }\n    }\n}\nexport default ImageCropElement;\nif (!window.customElements.get('image-crop')) {\n    window.ImageCropElement = ImageCropElement;\n    window.customElements.define('image-crop', ImageCropElement);\n}\n","class DetailsMenuElement extends HTMLElement {\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        if (value) {\n            this.setAttribute('preload', '');\n        }\n        else {\n            this.removeAttribute('preload');\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'menu');\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.setAttribute('aria-haspopup', 'menu');\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n        }\n        const subscriptions = [\n            fromEvent(details, 'compositionstart', e => trackComposition(this, e)),\n            fromEvent(details, 'compositionend', e => trackComposition(this, e)),\n            fromEvent(details, 'click', e => shouldCommit(details, e)),\n            fromEvent(details, 'change', e => shouldCommit(details, e)),\n            fromEvent(details, 'keydown', e => keydown(details, this, e)),\n            fromEvent(details, 'toggle', () => loadFragment(details, this), { once: true }),\n            fromEvent(details, 'toggle', () => closeCurrentMenu(details)),\n            this.preload\n                ? fromEvent(details, 'mouseover', () => loadFragment(details, this), { once: true })\n                : NullSubscription,\n            ...focusOnOpen(details)\n        ];\n        states.set(this, { subscriptions, loaded: false, isComposing: false });\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        for (const sub of state.subscriptions) {\n            sub.unsubscribe();\n        }\n    }\n}\nconst states = new WeakMap();\nconst NullSubscription = {\n    unsubscribe() {\n    }\n};\nfunction fromEvent(target, eventName, onNext, options = false) {\n    target.addEventListener(eventName, onNext, options);\n    return {\n        unsubscribe: () => {\n            target.removeEventListener(eventName, onNext, options);\n        }\n    };\n}\nfunction loadFragment(details, menu) {\n    const src = menu.getAttribute('src');\n    if (!src)\n        return;\n    const state = states.get(menu);\n    if (!state)\n        return;\n    if (state.loaded)\n        return;\n    state.loaded = true;\n    const loader = menu.querySelector('include-fragment');\n    if (loader && !loader.hasAttribute('src')) {\n        loader.addEventListener('loadend', () => autofocus(details));\n        loader.setAttribute('src', src);\n    }\n}\nfunction focusOnOpen(details) {\n    let isMouse = false;\n    const onmousedown = () => (isMouse = true);\n    const onkeydown = () => (isMouse = false);\n    const ontoggle = () => {\n        if (!details.hasAttribute('open'))\n            return;\n        if (autofocus(details))\n            return;\n        if (!isMouse)\n            focusFirstItem(details);\n    };\n    return [\n        fromEvent(details, 'mousedown', onmousedown),\n        fromEvent(details, 'keydown', onkeydown),\n        fromEvent(details, 'toggle', ontoggle)\n    ];\n}\nfunction closeCurrentMenu(details) {\n    if (!details.hasAttribute('open'))\n        return;\n    for (const menu of document.querySelectorAll('details[open] > details-menu')) {\n        const opened = menu.closest('details');\n        if (opened && opened !== details && !opened.contains(details)) {\n            opened.removeAttribute('open');\n        }\n    }\n}\nfunction autofocus(details) {\n    if (!details.hasAttribute('open'))\n        return false;\n    const input = details.querySelector('details-menu [autofocus]');\n    if (input) {\n        input.focus();\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction focusFirstItem(details) {\n    const selected = document.activeElement;\n    if (selected && isMenuItem(selected) && details.contains(selected))\n        return;\n    const target = sibling(details, true);\n    if (target)\n        target.focus();\n}\nfunction sibling(details, next) {\n    const options = Array.from(details.querySelectorAll('[role^=\"menuitem\"]:not([hidden]):not([disabled]):not([aria-disabled=\"true\"])'));\n    const selected = document.activeElement;\n    const index = selected instanceof HTMLElement ? options.indexOf(selected) : -1;\n    const found = next ? options[index + 1] : options[index - 1];\n    const def = next ? options[0] : options[options.length - 1];\n    return found || def;\n}\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/);\nfunction shouldCommit(details, event) {\n    const target = event.target;\n    if (!(target instanceof Element))\n        return;\n    if (target.closest('details') !== details)\n        return;\n    if (event.type === 'click') {\n        const menuitem = target.closest('[role=\"menuitem\"], [role=\"menuitemradio\"]');\n        if (!menuitem)\n            return;\n        const input = menuitem.querySelector('input');\n        if (menuitem.tagName === 'LABEL' && target === input)\n            return;\n        const onlyCommitOnChangeEvent = menuitem.tagName === 'LABEL' && input && !input.checked;\n        if (!onlyCommitOnChangeEvent) {\n            commit(menuitem, details);\n        }\n    }\n    else if (event.type === 'change') {\n        const menuitem = target.closest('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]');\n        if (menuitem)\n            commit(menuitem, details);\n    }\n}\nfunction updateChecked(selected, details) {\n    for (const el of details.querySelectorAll('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]')) {\n        const input = el.querySelector('input[type=\"radio\"], input[type=\"checkbox\"]');\n        let checkState = (el === selected).toString();\n        if (input instanceof HTMLInputElement) {\n            checkState = input.indeterminate ? 'mixed' : input.checked.toString();\n        }\n        el.setAttribute('aria-checked', checkState);\n    }\n}\nfunction commit(selected, details) {\n    if (selected.hasAttribute('disabled') || selected.getAttribute('aria-disabled') === 'true')\n        return;\n    const menu = selected.closest('details-menu');\n    if (!menu)\n        return;\n    const dispatched = menu.dispatchEvent(new CustomEvent('details-menu-select', {\n        cancelable: true,\n        detail: { relatedTarget: selected }\n    }));\n    if (!dispatched)\n        return;\n    updateLabel(selected, details);\n    updateChecked(selected, details);\n    if (selected.getAttribute('role') !== 'menuitemcheckbox')\n        close(details);\n    menu.dispatchEvent(new CustomEvent('details-menu-selected', {\n        detail: { relatedTarget: selected }\n    }));\n}\nfunction keydown(details, menu, event) {\n    if (!(event instanceof KeyboardEvent))\n        return;\n    if (details.querySelector('details[open]'))\n        return;\n    const state = states.get(menu);\n    if (!state || state.isComposing)\n        return;\n    const isSummaryFocused = event.target instanceof Element && event.target.tagName === 'SUMMARY';\n    switch (event.key) {\n        case 'Escape':\n            if (details.hasAttribute('open')) {\n                close(details);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            break;\n        case 'ArrowDown':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, true);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'ArrowUp':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, false);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'n':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, true);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case 'p':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, false);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case ' ':\n        case 'Enter':\n            {\n                const selected = document.activeElement;\n                if (selected instanceof HTMLElement && isMenuItem(selected) && selected.closest('details') === details) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    selected.click();\n                }\n            }\n            break;\n    }\n}\nfunction isMenuItem(el) {\n    const role = el.getAttribute('role');\n    return role === 'menuitem' || role === 'menuitemcheckbox' || role === 'menuitemradio';\n}\nfunction close(details) {\n    const wasOpen = details.hasAttribute('open');\n    if (!wasOpen)\n        return;\n    details.removeAttribute('open');\n    const summary = details.querySelector('summary');\n    if (summary)\n        summary.focus();\n}\nfunction updateLabel(item, details) {\n    const button = details.querySelector('[data-menu-button]');\n    if (!button)\n        return;\n    const text = labelText(item);\n    if (text) {\n        button.textContent = text;\n    }\n    else {\n        const html = labelHTML(item);\n        if (html)\n            button.innerHTML = html;\n    }\n}\nfunction labelText(el) {\n    if (!el)\n        return null;\n    const textEl = el.hasAttribute('data-menu-button-text') ? el : el.querySelector('[data-menu-button-text]');\n    if (!textEl)\n        return null;\n    return textEl.getAttribute('data-menu-button-text') || textEl.textContent;\n}\nfunction labelHTML(el) {\n    if (!el)\n        return null;\n    const contentsEl = el.hasAttribute('data-menu-button-contents') ? el : el.querySelector('[data-menu-button-contents]');\n    return contentsEl ? contentsEl.innerHTML : null;\n}\nfunction trackComposition(menu, event) {\n    const state = states.get(menu);\n    if (!state)\n        return;\n    state.isComposing = event.type === 'compositionstart';\n}\nexport default DetailsMenuElement;\nif (!window.customElements.get('details-menu')) {\n    window.DetailsMenuElement = DetailsMenuElement;\n    window.customElements.define('details-menu', DetailsMenuElement);\n}\n","const alternateOrders = {\n    'outside-top': ['outside-bottom', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-bottom': ['outside-top', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-left': ['outside-right', 'outside-bottom', 'outside-top', 'outside-bottom'],\n    'outside-right': ['outside-left', 'outside-bottom', 'outside-top', 'outside-bottom']\n};\nconst alternateAlignments = {\n    start: ['end', 'center'],\n    end: ['start', 'center'],\n    center: ['end', 'start']\n};\nexport function getAnchoredPosition(floatingElement, anchorElement, settings = {}) {\n    const parentElement = getPositionedParent(floatingElement);\n    const clippingRect = getClippingRect(parentElement);\n    const parentElementStyle = getComputedStyle(parentElement);\n    const parentElementRect = parentElement.getBoundingClientRect();\n    const [borderTop, borderLeft] = [parentElementStyle.borderTopWidth, parentElementStyle.borderLeftWidth].map(v => parseInt(v, 10) || 0);\n    const relativeRect = {\n        top: parentElementRect.top + borderTop,\n        left: parentElementRect.left + borderLeft\n    };\n    return pureCalculateAnchoredPosition(clippingRect, relativeRect, floatingElement.getBoundingClientRect(), anchorElement instanceof Element ? anchorElement.getBoundingClientRect() : anchorElement, getDefaultSettings(settings));\n}\nfunction getPositionedParent(element) {\n    let parentNode = element.parentNode;\n    while (parentNode !== null) {\n        if (parentNode instanceof HTMLElement && getComputedStyle(parentNode).position !== 'static') {\n            return parentNode;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    return document.body;\n}\nfunction getClippingRect(element) {\n    let parentNode = element;\n    while (parentNode !== null) {\n        if (parentNode === document.body) {\n            break;\n        }\n        const parentNodeStyle = getComputedStyle(parentNode);\n        if (parentNodeStyle.overflow !== 'visible') {\n            break;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    const clippingNode = parentNode === document.body || !(parentNode instanceof HTMLElement) ? document.body : parentNode;\n    const elemRect = clippingNode.getBoundingClientRect();\n    const elemStyle = getComputedStyle(clippingNode);\n    const [borderTop, borderLeft, borderRight, borderBottom] = [\n        elemStyle.borderTopWidth,\n        elemStyle.borderLeftWidth,\n        elemStyle.borderRightWidth,\n        elemStyle.borderBottomWidth\n    ].map(v => parseInt(v, 10) || 0);\n    return {\n        top: elemRect.top + borderTop,\n        left: elemRect.left + borderLeft,\n        width: elemRect.width - borderRight - borderLeft,\n        height: Math.max(elemRect.height - borderTop - borderBottom, clippingNode === document.body ? window.innerHeight : -Infinity)\n    };\n}\nconst positionDefaults = {\n    side: 'outside-bottom',\n    align: 'start',\n    anchorOffset: 4,\n    alignmentOffset: 4,\n    allowOutOfBounds: false\n};\nfunction getDefaultSettings(settings = {}) {\n    var _a, _b, _c, _d, _e;\n    const side = (_a = settings.side) !== null && _a !== void 0 ? _a : positionDefaults.side;\n    const align = (_b = settings.align) !== null && _b !== void 0 ? _b : positionDefaults.align;\n    return {\n        side,\n        align,\n        anchorOffset: (_c = settings.anchorOffset) !== null && _c !== void 0 ? _c : (side === 'inside-center' ? 0 : positionDefaults.anchorOffset),\n        alignmentOffset: (_d = settings.alignmentOffset) !== null && _d !== void 0 ? _d : (align !== 'center' && side.startsWith('inside') ? positionDefaults.alignmentOffset : 0),\n        allowOutOfBounds: (_e = settings.allowOutOfBounds) !== null && _e !== void 0 ? _e : positionDefaults.allowOutOfBounds\n    };\n}\nfunction pureCalculateAnchoredPosition(viewportRect, relativePosition, floatingRect, anchorRect, { side, align, allowOutOfBounds, anchorOffset, alignmentOffset }) {\n    const relativeViewportRect = {\n        top: viewportRect.top - relativePosition.top,\n        left: viewportRect.left - relativePosition.left,\n        width: viewportRect.width,\n        height: viewportRect.height\n    };\n    let pos = calculatePosition(floatingRect, anchorRect, side, align, anchorOffset, alignmentOffset);\n    let anchorSide = side;\n    let anchorAlign = align;\n    pos.top -= relativePosition.top;\n    pos.left -= relativePosition.left;\n    if (!allowOutOfBounds) {\n        const alternateOrder = alternateOrders[side];\n        let positionAttempt = 0;\n        if (alternateOrder) {\n            let prevSide = side;\n            while (positionAttempt < alternateOrder.length &&\n                shouldRecalculatePosition(prevSide, pos, relativeViewportRect, floatingRect)) {\n                const nextSide = alternateOrder[positionAttempt++];\n                prevSide = nextSide;\n                pos = calculatePosition(floatingRect, anchorRect, nextSide, align, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorSide = nextSide;\n            }\n        }\n        const alternateAlignment = alternateAlignments[align];\n        let alignmentAttempt = 0;\n        if (alternateAlignment) {\n            let prevAlign = align;\n            while (alignmentAttempt < alternateAlignment.length &&\n                shouldRecalculateAlignment(prevAlign, pos, relativeViewportRect, floatingRect)) {\n                const nextAlign = alternateAlignment[alignmentAttempt++];\n                prevAlign = nextAlign;\n                pos = calculatePosition(floatingRect, anchorRect, anchorSide, nextAlign, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorAlign = nextAlign;\n            }\n        }\n        if (pos.top < relativeViewportRect.top) {\n            pos.top = relativeViewportRect.top;\n        }\n        if (pos.left < relativeViewportRect.left) {\n            pos.left = relativeViewportRect.left;\n        }\n        if (pos.left + floatingRect.width > viewportRect.width + relativeViewportRect.left) {\n            pos.left = viewportRect.width + relativeViewportRect.left - floatingRect.width;\n        }\n        if (alternateOrder && positionAttempt < alternateOrder.length) {\n            if (pos.top + floatingRect.height > viewportRect.height + relativeViewportRect.top) {\n                pos.top = viewportRect.height + relativeViewportRect.top - floatingRect.height;\n            }\n        }\n    }\n    return Object.assign(Object.assign({}, pos), { anchorSide, anchorAlign });\n}\nfunction calculatePosition(elementDimensions, anchorPosition, side, align, anchorOffset, alignmentOffset) {\n    const anchorRight = anchorPosition.left + anchorPosition.width;\n    const anchorBottom = anchorPosition.top + anchorPosition.height;\n    let top = -1;\n    let left = -1;\n    if (side === 'outside-top') {\n        top = anchorPosition.top - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'outside-bottom') {\n        top = anchorBottom + anchorOffset;\n    }\n    else if (side === 'outside-left') {\n        left = anchorPosition.left - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'outside-right') {\n        left = anchorRight + anchorOffset;\n    }\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    if (side === 'outside-left' || side === 'outside-right') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    if (side === 'inside-top') {\n        top = anchorPosition.top + anchorOffset;\n    }\n    else if (side === 'inside-bottom') {\n        top = anchorBottom - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'inside-left') {\n        left = anchorPosition.left + anchorOffset;\n    }\n    else if (side === 'inside-right') {\n        left = anchorRight - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'inside-center') {\n        left = (anchorRight + anchorPosition.left) / 2 - elementDimensions.width / 2 + anchorOffset;\n    }\n    if (side === 'inside-top' || side === 'inside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    else if (side === 'inside-left' || side === 'inside-right' || side === 'inside-center') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    return { top, left };\n}\nfunction shouldRecalculatePosition(side, currentPos, containerDimensions, elementDimensions) {\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        return (currentPos.top < containerDimensions.top ||\n            currentPos.top + elementDimensions.height > containerDimensions.height + containerDimensions.top);\n    }\n    else {\n        return (currentPos.left < containerDimensions.left ||\n            currentPos.left + elementDimensions.width > containerDimensions.width + containerDimensions.left);\n    }\n}\nfunction shouldRecalculateAlignment(align, currentPos, containerDimensions, elementDimensions) {\n    if (align === 'end') {\n        return currentPos.left < containerDimensions.left;\n    }\n    else if (align === 'start' || align === 'center') {\n        return (currentPos.left + elementDimensions.width > containerDimensions.left + containerDimensions.width ||\n            currentPos.left < containerDimensions.left);\n    }\n}\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ToolTipElement_instances, _ToolTipElement_abortController, _ToolTipElement_align, _ToolTipElement_side, _ToolTipElement_allowUpdatePosition, _ToolTipElement_update, _ToolTipElement_updatePosition;\nimport { getAnchoredPosition } from '@primer/behaviors';\nconst TOOLTIP_OPEN_CLASS = 'tooltip-open';\nconst TOOLTIP_ARROW_EDGE_OFFSET = 6;\nconst DIRECTION_CLASSES = [\n    'tooltip-n',\n    'tooltip-s',\n    'tooltip-e',\n    'tooltip-w',\n    'tooltip-ne',\n    'tooltip-se',\n    'tooltip-nw',\n    'tooltip-sw'\n];\nclass ToolTipElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _ToolTipElement_instances.add(this);\n        _ToolTipElement_abortController.set(this, void 0);\n        _ToolTipElement_align.set(this, 'center');\n        _ToolTipElement_side.set(this, 'outside-bottom');\n        _ToolTipElement_allowUpdatePosition.set(this, false);\n    }\n    styles() {\n        return `\n      :host {\n        position: absolute;\n        z-index: 1000000;\n        padding: .5em .75em;\n        font: normal normal 11px/1.5 -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\";\n        -webkit-font-smoothing: subpixel-antialiased;\n        color: var(--color-fg-on-emphasis);\n        text-align: center;\n        text-decoration: none;\n        text-shadow: none;\n        text-transform: none;\n        letter-spacing: normal;\n        word-wrap: break-word;\n        white-space: pre;\n        background: var(--color-neutral-emphasis-plus);\n        border-radius: 6px;\n        opacity: 0;\n        max-width: 250px;\n        word-wrap: break-word;\n        white-space: normal;\n        width: max-content;\n      }\n\n      :host:before{\n        position: absolute;\n        z-index: 1000001;\n        color: var(--color-neutral-emphasis-plus);\n        content: \"\";\n        border: 6px solid transparent;\n        opacity: 0\n      }\n\n      @keyframes tooltip-appear {\n        from {\n          opacity: 0\n        }\n        to {\n          opacity: 1\n        }\n      }\n\n      :host:after{\n        position: absolute;\n        display: block;\n        right: 0;\n        left: 0;\n        height: 12px;\n        content: \"\"\n      }\n\n      :host(.${TOOLTIP_OPEN_CLASS}),\n      :host(.${TOOLTIP_OPEN_CLASS}):before {\n        animation-name: tooltip-appear;\n        animation-duration: .1s;\n        animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n        animation-delay: .4s\n      }\n\n      :host(.tooltip-s):before,\n      :host(.tooltip-n):before {\n        right: 50%;\n        margin-right: -${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n\n      :host(.tooltip-s):before,\n      :host(.tooltip-se):before,\n      :host(.tooltip-sw):before {\n        bottom: 100%;\n        border-bottom-color: var(--color-neutral-emphasis-plus)\n      }\n\n      :host(.tooltip-s):after,\n      :host(.tooltip-se):after,\n      :host(.tooltip-sw):after {\n        bottom: 100%\n      }\n\n      :host(.tooltip-n):before,\n      :host(.tooltip-ne):before,\n      :host(.tooltip-nw):before {\n        top: 100%;\n        border-top-color: var(--color-neutral-emphasis-plus)\n      }\n\n      :host(.tooltip-n):after,\n      :host(.tooltip-ne):after,\n      :host(.tooltip-nw):after {\n        top: 100%\n      }\n\n      :host(.tooltip-se):before,\n      :host(.tooltip-ne):before {\n        left: 0;\n        margin-left: ${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n\n      :host(.tooltip-sw):before,\n      :host(.tooltip-nw):before {\n        right: 0;\n        margin-right: ${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n\n      :host(.tooltip-w):before {\n        top: 50%;\n        bottom: 50%;\n        left: 100%;\n        margin-top: -6px;\n        border-left-color: var(--color-neutral-emphasis-plus)\n      }\n\n      :host(.tooltip-e):before {\n        top: 50%;\n        right: 100%;\n        bottom: 50%;\n        margin-top: -6px;\n        border-right-color: var(--color-neutral-emphasis-plus)\n      }\n    `;\n    }\n    get htmlFor() {\n        return this.getAttribute('for') || '';\n    }\n    set htmlFor(value) {\n        this.setAttribute('for', value);\n    }\n    get type() {\n        const type = this.getAttribute('data-type');\n        return type === 'label' ? 'label' : 'description';\n    }\n    set type(value) {\n        this.setAttribute('data-type', value);\n    }\n    get direction() {\n        return (this.getAttribute('data-direction') || 's');\n    }\n    set direction(value) {\n        this.setAttribute('data-direction', value);\n    }\n    get control() {\n        return this.ownerDocument.getElementById(this.htmlFor);\n    }\n    connectedCallback() {\n        var _a;\n        if (!this.shadowRoot) {\n            const shadow = this.attachShadow({ mode: 'open' });\n            shadow.innerHTML = `\n        <style>\n          ${this.styles()}\n        </style>\n        <slot></slot>\n      `;\n        }\n        this.hidden = true;\n        __classPrivateFieldSet(this, _ToolTipElement_allowUpdatePosition, true, \"f\");\n        if (!this.id) {\n            this.id = `tooltip-${Date.now()}-${(Math.random() * 10000).toFixed(0)}`;\n        }\n        if (!this.control)\n            return;\n        this.setAttribute('role', 'tooltip');\n        (_a = __classPrivateFieldGet(this, _ToolTipElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n        __classPrivateFieldSet(this, _ToolTipElement_abortController, new AbortController(), \"f\");\n        const { signal } = __classPrivateFieldGet(this, _ToolTipElement_abortController, \"f\");\n        this.addEventListener('mouseleave', this, { signal });\n        this.control.addEventListener('mouseenter', this, { signal });\n        this.control.addEventListener('mouseleave', this, { signal });\n        this.control.addEventListener('focus', this, { signal });\n        this.control.addEventListener('blur', this, { signal });\n        this.ownerDocument.addEventListener('keydown', this, { signal });\n        __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_update).call(this);\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = __classPrivateFieldGet(this, _ToolTipElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n    }\n    handleEvent(event) {\n        if (!this.control)\n            return;\n        // Ensures that tooltip stays open when hovering between tooltip and element\n        // WCAG Success Criterion 1.4.13 Hoverable\n        if ((event.type === 'mouseenter' || event.type === 'focus') && this.hidden) {\n            this.hidden = false;\n        }\n        else if (event.type === 'blur') {\n            this.hidden = true;\n        }\n        else if (event.type === 'mouseleave' &&\n            event.relatedTarget !== this.control &&\n            event.relatedTarget !== this) {\n            this.hidden = true;\n        }\n        else if (event.type === 'keydown' && event.key === 'Escape' && !this.hidden) {\n            this.hidden = true;\n        }\n    }\n    attributeChangedCallback(name) {\n        if (name === 'id' || name === 'data-type') {\n            if (!this.id || !this.control)\n                return;\n            if (this.type === 'label') {\n                this.control.setAttribute('aria-labelledby', this.id);\n            }\n            else {\n                let describedBy = this.control.getAttribute('aria-describedby');\n                describedBy ? (describedBy = `${describedBy} ${this.id}`) : (describedBy = this.id);\n                this.control.setAttribute('aria-describedby', describedBy);\n            }\n        }\n        else if (this.isConnected && name === 'hidden') {\n            __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_update).call(this);\n        }\n        else if (name === 'data-direction') {\n            this.classList.remove(...DIRECTION_CLASSES);\n            const direction = this.direction;\n            if (direction === 'n') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-top', \"f\");\n            }\n            else if (direction === 'ne') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'start', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-top', \"f\");\n            }\n            else if (direction === 'e') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-right', \"f\");\n            }\n            else if (direction === 'se') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'start', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-bottom', \"f\");\n            }\n            else if (direction === 's') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-bottom', \"f\");\n            }\n            else if (direction === 'sw') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'end', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-bottom', \"f\");\n            }\n            else if (direction === 'w') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-left', \"f\");\n            }\n            else if (direction === 'nw') {\n                __classPrivateFieldSet(this, _ToolTipElement_align, 'end', \"f\");\n                __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-top', \"f\");\n            }\n        }\n    }\n}\n_ToolTipElement_abortController = new WeakMap(), _ToolTipElement_align = new WeakMap(), _ToolTipElement_side = new WeakMap(), _ToolTipElement_allowUpdatePosition = new WeakMap(), _ToolTipElement_instances = new WeakSet(), _ToolTipElement_update = function _ToolTipElement_update() {\n    if (this.hidden) {\n        this.classList.remove(TOOLTIP_OPEN_CLASS, ...DIRECTION_CLASSES);\n    }\n    else {\n        this.classList.add(TOOLTIP_OPEN_CLASS);\n        for (const tooltip of this.ownerDocument.querySelectorAll(this.tagName)) {\n            if (tooltip !== this)\n                tooltip.hidden = true;\n        }\n        __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_updatePosition).call(this);\n    }\n}, _ToolTipElement_updatePosition = function _ToolTipElement_updatePosition() {\n    if (!this.control)\n        return;\n    if (!__classPrivateFieldGet(this, _ToolTipElement_allowUpdatePosition, \"f\") || this.hidden)\n        return;\n    const TOOLTIP_OFFSET = 10;\n    this.style.left = `0px`; // Ensures we have reliable tooltip width in `getAnchoredPosition`\n    const position = getAnchoredPosition(this, this.control, {\n        side: __classPrivateFieldGet(this, _ToolTipElement_side, \"f\"),\n        align: __classPrivateFieldGet(this, _ToolTipElement_align, \"f\"),\n        anchorOffset: TOOLTIP_OFFSET\n    });\n    const anchorSide = position.anchorSide;\n    const align = position.anchorAlign;\n    this.style.top = `${position.top}px`;\n    this.style.left = `${position.left}px`;\n    let direction = 's';\n    if (anchorSide === 'outside-left') {\n        direction = 'w';\n    }\n    else if (anchorSide === 'outside-right') {\n        direction = 'e';\n    }\n    else if (anchorSide === 'outside-top') {\n        if (align === 'center') {\n            direction = 'n';\n        }\n        else if (align === 'start') {\n            direction = 'ne';\n        }\n        else {\n            direction = 'nw';\n        }\n    }\n    else {\n        if (align === 'center') {\n            direction = 's';\n        }\n        else if (align === 'start') {\n            direction = 'se';\n        }\n        else {\n            direction = 'sw';\n        }\n    }\n    this.classList.add(`tooltip-${direction}`);\n};\nToolTipElement.observedAttributes = ['data-type', 'data-direction', 'id', 'hidden'];\nif (!window.customElements.get('tool-tip')) {\n    window.ToolTipElement = ToolTipElement;\n    window.customElements.define('tool-tip', ToolTipElement);\n}\n"],"names":["ctrlBindings","navigator","userAgent","match","Combobox","constructor","input","list","this","isComposing","id","Math","random","toString","slice","keyboardEventHandler","event","combobox","shiftKey","metaKey","altKey","ctrlKey","key","target","querySelector","getAttribute","click","commit","preventDefault","clearSelection","navigate","keyboardBindings","compositionEventHandler","type","document","getElementById","trackComposition","inputHandler","bind","setAttribute","destroy","stop","removeAttribute","start","addEventListener","commitWithElement","removeEventListener","indexDiff","focusEl","Array","from","querySelectorAll","filter","visible","els","focusIndex","indexOf","length","focus","indexOfItem","newIndex","el","scrollTo","Element","closest","dispatchEvent","CustomEvent","bubbles","fireCommitEvent","hidden","HTMLInputElement","offsetWidth","offsetHeight","container","element","scrollTop","containerBottom","clientHeight","top","offsetTop","bottom","inViewport","SCREEN_READER_DELAY","window","testScreenReaderDelay","Autocomplete","results","autoselectEnabled","_a","feedback","clearButton","name","clientOptions","labelElem","interactingWithList","onInputChange","callback","wait","timeout","Rest","clearTimeout","setTimeout","debounce","onResultsMouseDown","onInputBlur","onInputFocus","onKeydown","onCommit","handleClear","updateFeedbackForScreenReaders","value","Event","open","firstOption","children","stopPropagation","trim","fetchResults","selected","HTMLElement","HTMLAnchorElement","textContent","identifyOptions","inputString","query","src","url","URL","location","href","params","URLSearchParams","search","append","fetchResult","then","html","innerHTML","allNewOptions","hasResults","numOptions","firstOptionValue","catch","close","AutocompleteEvent","init","super","relatedTarget","requests","WeakMap","fragment","xhr","XMLHttpRequest","setRequestHeader","pending","get","abort","set","clear","delete","result","Promise","resolve","reject","onload","status","responseText","Error","onerror","send","request","state","AutocompleteElement","arguments","connectedCallback","listId","disconnectedCallback","autocomplete","hasAttribute","observedAttributes","attributeChangedCallback","oldValue","newValue","copyNode","node","clipboard","writeText","selection","getSelection","removeAllRanges","range","createRange","selectNodeContents","addRange","execCommand","copyText","text","body","createElement","style","width","height","position","createNode","appendChild","removeChild","copy","button","trigger","root","prototype","getRootNode","ownerDocument","Document","ShadowRoot","content","HTMLTextAreaElement","clicked","currentTarget","keydown","focused","blurred","customElements","define","ClipboardCopyElement","showSVG","svg","display","hideSVG","clipboardCopyElementTimers","getTabs","tab","tagName","currentTimeout","copyIcon","checkIcon","showCheck","showCopy","TabContainerElement","tabs","currentIndex","find","matches","code","index","selectTab","tabContainer","panels","panel","selectedTab","selectedPanel","cancelable","detail","weekdays","months","pad","num","strftime","time","formatString","day","getDay","date","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","second","getSeconds","replace","_arg","String","makeFormatter","options","format","Intl","DateTimeFormat","undefined","e","RangeError","dayFirst","dayFirstFormatter","isDayFirst","formatter","output","Date","yearSeparator","yearFormatter","localeFromElement","lang","datetimes","ExtendedTimeElement","title","getFormattedTitle","getFormattedDate","attrName","oldTitle","millis","parse","isNaN","currentTitle","titleFormatter","toLocaleString","timeZoneName","formatters","LocalTimeElement","d","props","weekday","short","long","numeric","prop","formatDate","tz","Object","keys","factory","formatTime","RelativeTime","locale","ago","timeElapsed","ahead","timeAhead","ms","getTime","sec","round","min","hr","timeAgoFromMs","timeUntil","timeAgo","formatRelativeTime","microTimeAgo","timeUntilFromMs","microTimeUntil","getUTCFullYear","isYearSeparator","timeFormatter","unit","RelativeTimeFormat","makeRelativeFormat","formatEnRelativeTime","RelativeTimeElement","nowElements","push","updateNowElementsId","updateNowElements","setInterval","ix","splice","clearInterval","i","len","TimeAgoElement","TimeUntilElement","startPositions","dragStartPositions","constructedElements","moveCropArea","ImageCropElement","box","image","deltaX","deltaY","KeyboardEvent","has","MouseEvent","pos","pageX","dragStartX","pageY","dragStartY","TouchEvent","changedTouches","x","max","offsetLeft","y","left","fireChangeEvent","updateCropArea","getShadowHost","rect","getBoundingClientRect","delta","setInitialPosition","startX","startY","pageXOffset","pageYOffset","updateDimensions","rootNode","host","startUpdate","direction","passive","classList","add","reposition","newSide","abs","side","clientWidth","stopUpdate","remove","ratio","naturalWidth","slottedInput","shadowRoot","attachShadow","mode","HTMLImageElement","loaded","val","attribute","DetailsMenuElement","preload","details","parentElement","summary","subscriptions","fromEvent","shouldCommit","menu","states","isSummaryFocused","sibling","activeElement","isMenuItem","loadFragment","once","opened","contains","closeCurrentMenu","NullSubscription","focusOnOpen","sub","unsubscribe","eventName","onNext","loader","autofocus","isMouse","focusFirstItem","next","found","def","menuitem","checked","item","textEl","labelText","contentsEl","labelHTML","updateLabel","checkState","indeterminate","updateChecked","role","alternateOrders","alternateAlignments","end","center","getAnchoredPosition","floatingElement","anchorElement","settings","parentNode","getComputedStyle","getPositionedParent","clippingRect","overflow","clippingNode","elemRect","elemStyle","borderTop","borderLeft","borderRight","borderBottom","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","map","v","parseInt","innerHeight","Infinity","getClippingRect","parentElementStyle","parentElementRect","viewportRect","relativePosition","floatingRect","anchorRect","align","allowOutOfBounds","anchorOffset","alignmentOffset","relativeViewportRect","calculatePosition","anchorSide","anchorAlign","alternateOrder","positionAttempt","prevSide","shouldRecalculatePosition","nextSide","alternateAlignment","alignmentAttempt","prevAlign","shouldRecalculateAlignment","nextAlign","assign","pureCalculateAnchoredPosition","_b","_c","_d","_e","positionDefaults","startsWith","getDefaultSettings","elementDimensions","anchorPosition","anchorRight","anchorBottom","currentPos","containerDimensions","_ToolTipElement_instances","_ToolTipElement_abortController","_ToolTipElement_align","_ToolTipElement_side","_ToolTipElement_allowUpdatePosition","_ToolTipElement_update","_ToolTipElement_updatePosition","__classPrivateFieldSet","receiver","kind","f","TypeError","call","__classPrivateFieldGet","DIRECTION_CLASSES","ToolTipElement","styles","htmlFor","control","now","toFixed","AbortController","signal","handleEvent","describedBy","isConnected","WeakSet","tooltip"],"mappings":"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"}