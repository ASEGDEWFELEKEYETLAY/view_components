<%= render Primer::BaseComponent.new(@system_arguments) do %>
  <% items.each do |item| %>
    <%= item %>
  <% end %>

  <%# Replace with ActionMenu %>
  <%= render Primer::BaseComponent.new(tag: :"action-menu") do %>
    <%= render Primer::IconButton.new(role: "button", icon: :"kebab-horizontal", "aria-label": "Menu","aria-haspopup": true, "aria-expanded": false, "aria-controls": "#{@menu_id}-list", id: @menu_id) %>
    <div class="Overlay-backdrop--anchor" data-menu-overlay>
      <div class="Overlay Overlay-whenNarrow Overlay--height-auto Overlay--width-auto" hidden>
        <div class="Overlay-body Overlay-body--paddingNone">
          <ul class="ActionList" id="<%= @menu_id %>-list" role="menu" aria-labelledby="<%= @menu_id %>-text">
            <% items.each do |item| %>
              <% if item.divider? %>
                <li class="ActionList-sectionDivider" role="presentation" aria-hidden></li>
              <% else %>
                <%= render(Primer::BaseComponent.new(tag: :li, role: :none, classes: "ActionList-item")) do %>
                  <%= render(Primer::BaseComponent.new(tag: :button, classes: "ActionList-content")) do %>
                    <% if item.icon_button? %>
                      <%= render Primer::BaseComponent.new(tag: :span, classes: "ActionList-item-visual ActionList-item-visual--leading") do %>
                        <%= render Primer::OcticonComponent.new(icon: item.icon) %>
                      <% end %>
                    <% end %>
                    <span class="ActionList-item-label">
                      <%= item.label %>
                    </span>
                  <% end %>
                <% end %>
              <% end %>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
